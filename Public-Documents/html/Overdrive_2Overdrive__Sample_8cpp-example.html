<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ADL (AMD Display Library) Public APIs: Overdrive/Overdrive_Sample.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Overdrive/Overdrive_Sample.cpp</h1>A C/C++ Sample Application for Windows (XP, Vista and above); 32bit and 64bit <br>
 Visual Studio 2015 solution file <b> "Overdrive_Sample.sln" </b> is included in ADL SDK<p>
<div class="fragment"><pre class="fragment"><span class="comment">// Overdrive_Sample.cpp : Defines the entry point for the console application.</span>
<span class="comment">//</span>




<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span><span class="preprocessor">#include "../../include/adl_sdk.h"</span>
<span class="preprocessor">#include "../../include/customer/oem_structures.h"</span>
<span class="preprocessor">#include &lt;dlfcn.h&gt;</span>      <span class="comment">//dyopen, dlsym, dlclose</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>     
<span class="preprocessor">#include &lt;string.h&gt;</span>     <span class="comment">//memeset</span>
<span class="preprocessor">#include &lt;unistd.h&gt;</span>     <span class="comment">//sleep</span>

<span class="preprocessor">#else</span>
<span class="preprocessor"></span><span class="preprocessor">#include &lt;windows.h&gt;</span>
<span class="preprocessor">#include &lt;tchar.h&gt;</span>
<span class="preprocessor">#include "../../include/adl_sdk.h"</span> <span class="comment">//Replace with local location of ADL SDK</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>

<span class="preprocessor">#define AMDVENDORID             (1002)</span>
<span class="preprocessor"></span><span class="preprocessor">#define ADL_WARNING_NO_DATA      -100</span>
<span class="preprocessor"></span>


<span class="comment">// Definitions of the used function pointers. Add more if you use other ADL APIs</span>
<span class="keyword">typedef</span> int ( *ADL_MAIN_CONTROL_CREATE )(<a name="a0"></a><a class="code" href="adl__sdk_8h.html#f19f99637fc200b5324dd7e7561eecd1" title="Memory Allocation Call back.">ADL_MAIN_MALLOC_CALLBACK</a>, int );
<span class="keyword">typedef</span> int ( *ADL_MAIN_CONTROL_DESTROY )();
<span class="keyword">typedef</span> int ( *ADL_ADAPTER_NUMBEROFADAPTERS_GET ) ( <span class="keywordtype">int</span>* );
<span class="keyword">typedef</span> int ( *ADL_ADAPTER_ADAPTERINFO_GET ) ( <a name="_a1"></a><a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">LPAdapterInfo</a>, int );
<span class="keyword">typedef</span> int ( *ADL_ADAPTER_ACTIVE_GET ) ( int, <span class="keywordtype">int</span>* );
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE_CAPS ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> *iSupported, <span class="keywordtype">int</span> *iEnabled, <span class="keywordtype">int</span> *iVersion);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_THERMALDEVICES_ENUM ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iThermalControllerIndex, <a name="_a2"></a><a class="code" href="structADLThermalControllerInfo.html" title="Structure containing information about thermal controller.">ADLThermalControllerInfo</a> *lpThermalControllerInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_ODPARAMETERS_GET ) ( <span class="keywordtype">int</span>  iAdapterIndex,  <a name="_a3"></a><a class="code" href="structADLODParameters.html" title="Structure containing information about Overdrive parameters.">ADLODParameters</a> *  lpOdParameters );
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_TEMPERATURE_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iThermalControllerIndex, <a name="_a4"></a><a class="code" href="structADLTemperature.html" title="Structure containing information about thermal controller temperature.">ADLTemperature</a> *lpTemperature);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_FANSPEED_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iThermalControllerIndex, <a name="_a5"></a><a class="code" href="structADLFanSpeedValue.html" title="Structure containing information about fan speed reported by thermal controller.">ADLFanSpeedValue</a> *lpFanSpeedValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_FANSPEEDINFO_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iThermalControllerIndex, <a name="_a6"></a><a class="code" href="structADLFanSpeedInfo.html" title="Structure containing information about thermal controller fan speed.">ADLFanSpeedInfo</a> *lpFanSpeedInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_ODPERFORMANCELEVELS_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iDefault, <a name="_a7"></a><a class="code" href="structADLODPerformanceLevels.html" title="Structure containing information about Overdrive performance levels.">ADLODPerformanceLevels</a> *lpOdPerformanceLevels); 
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_ODPARAMETERS_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <a class="code" href="structADLODParameters.html" title="Structure containing information about Overdrive parameters.">ADLODParameters</a> *lpOdParameters);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_CURRENTACTIVITY_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <a name="_a8"></a><a class="code" href="structADLPMActivity.html" title="Structure containing information about current power management related activity...">ADLPMActivity</a> *lpActivity);
<span class="keyword">typedef</span> int     ( *ADL_OVERDRIVE5_FANSPEED_SET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iThermalControllerIndex, <a class="code" href="structADLFanSpeedValue.html" title="Structure containing information about fan speed reported by thermal controller.">ADLFanSpeedValue</a> *lpFanSpeedValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_ODPERFORMANCELEVELS_SET ) (<span class="keywordtype">int</span> iAdapterIndex, <a class="code" href="structADLODPerformanceLevels.html" title="Structure containing information about Overdrive performance levels.">ADLODPerformanceLevels</a> *lpOdPerformanceLevels);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_POWERCONTROL_CAPS )(<span class="keywordtype">int</span> iAdapterIndex,  <span class="keywordtype">int</span> *lpSupported);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_POWERCONTROLINFO_GET )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a9"></a><a class="code" href="structADLPowerControlInfo.html" title="Structure containing information about an OD5 Power Control feature.">ADLPowerControlInfo</a> *lpPowerControlInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_POWERCONTROL_GET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> *lpCurrentValue, <span class="keywordtype">int</span> *lpDefaultValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE5_POWERCONTROL_SET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_FANSPEED_GET )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a10"></a><a class="code" href="struct__ADLOD6FanSpeedInfo.html" title="Structure containing information about Overdrive 6 fan speed information.">ADLOD6FanSpeedInfo</a> *lpFanSpeedInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_THERMALCONTROLLER_CAPS )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a11"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html" title="Structure containing information about Overdrive 6 thermal contoller capabilities...">ADLOD6ThermalControllerCaps</a> *lpThermalControllerCaps);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_TEMPERATURE_GET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> *lpTemperature);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_CAPABILITIES_GET ) (<span class="keywordtype">int</span> iAdapterIndex, <a name="_a12"></a><a class="code" href="struct__ADLOD6Capabilities.html" title="Structure containing information about Overdrive 6 capabilities.">ADLOD6Capabilities</a> *lpODCapabilities);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_STATEINFO_GET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iStateType, <a name="_a13"></a><a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a> *lpStateInfo);
<span class="keyword">typedef</span> int     ( *ADL_OVERDRIVE6_CURRENTSTATUS_GET )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a14"></a><a class="code" href="struct__ADLOD6CurrentStatus.html" title="Structure containing information about current Overdrive 6 performance status.">ADLOD6CurrentStatus</a> *lpCurrentStatus);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_POWERCONTROL_CAPS ) (<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> *lpSupported);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_POWERCONTROLINFO_GET )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a15"></a><a class="code" href="struct__ADLOD6PowerControlInfo.html" title="Structure containing information about Overdrive 6 PowerControl settings.">ADLOD6PowerControlInfo</a> *lpPowerControlInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_POWERCONTROL_GET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> *lpCurrentValue, <span class="keywordtype">int</span> *lpDefaultValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_FANSPEED_SET )(<span class="keywordtype">int</span> iAdapterIndex, <a name="_a16"></a><a class="code" href="struct__ADLOD6FanSpeedValue.html" title="Structure containing information about Overdrive 6 fan speed value.">ADLOD6FanSpeedValue</a> *lpFanSpeedValue);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_STATE_SET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iStateType, <a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a> *lpStateInfo);
<span class="keyword">typedef</span> int ( *ADL_OVERDRIVE6_POWERCONTROL_SET )(<span class="keywordtype">int</span> iAdapterIndex, <span class="keywordtype">int</span> iValue);

<span class="comment">// Memory allocation function</span>
<span class="keywordtype">void</span>* <a name="a17"></a><a class="code" href="adl__sdk_8h.html#d16f14718feefaa629b3b7601ac9fdeb">__stdcall</a> ADL_Main_Memory_Alloc ( <span class="keywordtype">int</span> iSize )
{
    <span class="keywordtype">void</span>* lpBuffer = malloc ( iSize );
    <span class="keywordflow">return</span> lpBuffer;
}

<span class="comment">// Optional Memory de-allocation function</span>
<span class="keywordtype">void</span> <a class="code" href="adl__sdk_8h.html#d16f14718feefaa629b3b7601ac9fdeb">__stdcall</a> ADL_Main_Memory_Free ( <span class="keywordtype">void</span>** lpBuffer )
{
    <span class="keywordflow">if</span> ( NULL != *lpBuffer )
    {
        free ( *lpBuffer );
        *lpBuffer = NULL;
    }
}

<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span><span class="comment">// equivalent functions in linux</span>
<span class="keywordtype">void</span> * GetProcAddress( <span class="keywordtype">void</span> * pLibrary, <span class="keyword">const</span> <span class="keywordtype">char</span> * name)
{
    <span class="keywordflow">return</span> dlsym( pLibrary, name);
}
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span><span class="keywordtype">int</span> Overdrive5Sample(<span class="keywordtype">int</span> adapterId, <span class="keywordtype">void</span>* hDLL)
<span class="preprocessor">#else    </span>
<span class="preprocessor"></span><span class="keywordtype">int</span> Overdrive5Sample(<span class="keywordtype">int</span> adapterId, HINSTANCE hDLL)
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>{
        ADL_OVERDRIVE5_THERMALDEVICES_ENUM              <a name="a18"></a><a class="code" href="group__OVERDRIVE5.html#g574cbd512c40f9d0984b0c14ecf15168" title="Function to retrieve thermal devices information.">ADL_Overdrive5_ThermalDevices_Enum</a>;
        ADL_OVERDRIVE5_ODPARAMETERS_GET                 <a name="a19"></a><a class="code" href="group__OVERDRIVE5.html#gae3dbf6fbee9084da5ea3df11c6717e0" title="Function to retrieve the current Overdrive parameters.">ADL_Overdrive5_ODParameters_Get</a>;
        ADL_OVERDRIVE5_TEMPERATURE_GET                  <a name="a20"></a><a class="code" href="group__OVERDRIVE5.html#g2bdb12fb7ef50063b21855e6298a7a96" title="Function to retrieve thermal controller temperatures.">ADL_Overdrive5_Temperature_Get</a>;
        ADL_OVERDRIVE5_FANSPEED_GET                             <a name="a21"></a><a class="code" href="group__OVERDRIVE5.html#gb486773ee6babbbfd2791a7800423b25" title="Function to retrieve the fan speed reported by the thermal controller.">ADL_Overdrive5_FanSpeed_Get</a>;
        ADL_OVERDRIVE5_FANSPEEDINFO_GET                 <a name="a22"></a><a class="code" href="group__OVERDRIVE5.html#g51f5b3eb7905255afae7d4b969e1f9dd" title="Function to retrieve the fan speed reporting capability for thermal controllers.">ADL_Overdrive5_FanSpeedInfo_Get</a>;
        ADL_OVERDRIVE5_ODPERFORMANCELEVELS_GET  <a name="a23"></a><a class="code" href="group__OVERDRIVE5.html#g7a858bfe978d6dbc1edeb40995e3e4f2" title="Function to retrieve the current or default Overdrive performance levels.">ADL_Overdrive5_ODPerformanceLevels_Get</a>;
        ADL_OVERDRIVE5_CURRENTACTIVITY_GET              <a name="a24"></a><a class="code" href="group__OVERDRIVE5.html#g82b75de3cab6eb9fa3ed2a9078ab276c" title="Function to retrieve current power management-related activity.">ADL_Overdrive5_CurrentActivity_Get</a>;
        ADL_OVERDRIVE5_FANSPEED_SET                             <a name="a25"></a><a class="code" href="group__OVERDRIVE5.html#g1a78df2375fd56834de9badd1f2bea54" title="Function to set the fan speed.">ADL_Overdrive5_FanSpeed_Set</a>;
        ADL_OVERDRIVE5_ODPERFORMANCELEVELS_SET  <a name="a26"></a><a class="code" href="group__OVERDRIVE5.html#gace9e0f5a4b73117057864e11e95e3ed" title="Function to set the current Overdrive performance levels.">ADL_Overdrive5_ODPerformanceLevels_Set</a>;
        ADL_OVERDRIVE5_POWERCONTROL_CAPS                <a name="a27"></a><a class="code" href="group__OVERDRIVE5.html#g7e8440df5c44be36bdbb07c8eb310104" title="Function to check for PowerControl capabilities.">ADL_Overdrive5_PowerControl_Caps</a>;
        ADL_OVERDRIVE5_POWERCONTROLINFO_GET             <a name="a28"></a><a class="code" href="group__OVERDRIVE5.html#gef050e01a37c6ab386184b5fde36746a" title="Function to get values of PowerControl information.">ADL_Overdrive5_PowerControlInfo_Get</a>;
        ADL_OVERDRIVE5_POWERCONTROL_GET                 <a name="a29"></a><a class="code" href="group__OVERDRIVE5.html#g208133666c463051783a18b2c301e3f3" title="Function to get values of PowerControl.">ADL_Overdrive5_PowerControl_Get</a>;
        ADL_OVERDRIVE5_POWERCONTROL_SET                 <a name="a30"></a><a class="code" href="group__OVERDRIVE5.html#gf8b29fbf05a0b5a5357d64c388d3df39" title="Function to set values of PowerControl.">ADL_Overdrive5_PowerControl_Set</a>;
        ADL_OVERDRIVE6_STATE_SET                                <a name="a31"></a><a class="code" href="group__OVERDRIVE6.html#gc165fa493d0fe9527c5cf9191d280be4" title="Function to set the current Overdrive clock ranges.">ADL_Overdrive6_State_Set</a>;
        
        <a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">LPAdapterInfo</a> lpAdapterInfo = NULL;
    <span class="keywordtype">int</span>  ADL_Err = <a name="a32"></a><a class="code" href="group__define__adl__results.html#g917345ca58ec6b4d7c73865fdb611fd7" title="Generic Error. Most likely one or more of the Escape calls to the driver failed!">ADL_ERR</a>;
    <span class="keywordtype">int</span>  iNumberAdapters = 0;
        <span class="keywordtype">int</span>  iOverdriveSupported = 0;
        <span class="keywordtype">int</span>  iOverdriveEnabled = 0;
        <a class="code" href="structADLFanSpeedInfo.html" title="Structure containing information about thermal controller fan speed.">ADLFanSpeedInfo</a> fanSpeedInfo = {0};
        <span class="keywordtype">int</span>      iOverdriveVersion = 0;
        <span class="keywordtype">int</span> fanSpeedReportingMethod = 0;
        <span class="keywordtype">int</span> maxThermalControllerIndex = 0;
        <a class="code" href="structADLODPerformanceLevels.html" title="Structure containing information about Overdrive performance levels.">ADLODPerformanceLevels</a>* performanceLevels = 0;
        <span class="keywordtype">int</span> powerControlSupported = 0;
        <a class="code" href="structADLPowerControlInfo.html" title="Structure containing information about an OD5 Power Control feature.">ADLPowerControlInfo</a> powerControlInfo = {0};
        <span class="keywordtype">int</span> powerControlCurrent = 0;
        <span class="keywordtype">int</span> powerControlDefault = 0;
        

        ADL_Overdrive5_ThermalDevices_Enum = (ADL_OVERDRIVE5_THERMALDEVICES_ENUM) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_ThermalDevices_Enum"</span>);
        ADL_Overdrive5_ODParameters_Get = (ADL_OVERDRIVE5_ODPARAMETERS_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_ODParameters_Get"</span>);
        ADL_Overdrive5_Temperature_Get = (ADL_OVERDRIVE5_TEMPERATURE_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_Temperature_Get"</span>);
        ADL_Overdrive5_FanSpeed_Get = (ADL_OVERDRIVE5_FANSPEED_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_FanSpeed_Get"</span>);
        ADL_Overdrive5_FanSpeedInfo_Get = (ADL_OVERDRIVE5_FANSPEEDINFO_GET ) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_FanSpeedInfo_Get"</span>);
        ADL_Overdrive5_ODPerformanceLevels_Get = (ADL_OVERDRIVE5_ODPERFORMANCELEVELS_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_ODPerformanceLevels_Get"</span>);              
        ADL_Overdrive5_CurrentActivity_Get = (ADL_OVERDRIVE5_CURRENTACTIVITY_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_CurrentActivity_Get"</span>);
        ADL_Overdrive5_FanSpeed_Set = (ADL_OVERDRIVE5_FANSPEED_SET)GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_FanSpeed_Set"</span>);
        ADL_Overdrive5_ODPerformanceLevels_Set = (ADL_OVERDRIVE5_ODPERFORMANCELEVELS_SET ) GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive5_ODPerformanceLevels_Set"</span>);
        ADL_Overdrive5_PowerControl_Caps = (ADL_OVERDRIVE5_POWERCONTROL_CAPS) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_PowerControl_Caps"</span>);
        ADL_Overdrive5_PowerControlInfo_Get = (ADL_OVERDRIVE5_POWERCONTROLINFO_GET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_PowerControlInfo_Get"</span>);
        ADL_Overdrive5_PowerControl_Get = (ADL_OVERDRIVE5_POWERCONTROL_GET ) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_PowerControl_Get"</span>);
        ADL_Overdrive5_PowerControl_Set = (ADL_OVERDRIVE5_POWERCONTROL_SET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive5_PowerControl_Set"</span>);
        ADL_Overdrive6_State_Set = (ADL_OVERDRIVE6_STATE_SET) GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive6_State_Set"</span>);

        <span class="keywordflow">if</span> ( 
                NULL == ADL_Overdrive5_ThermalDevices_Enum ||                   
                NULL == ADL_Overdrive5_Temperature_Get ||
                NULL == ADL_Overdrive5_FanSpeedInfo_Get ||
                NULL == ADL_Overdrive5_ODPerformanceLevels_Get ||
                NULL == ADL_Overdrive5_ODParameters_Get ||
                NULL == ADL_Overdrive5_CurrentActivity_Get ||
                NULL == ADL_Overdrive5_FanSpeed_Set ||
                NULL == ADL_Overdrive5_ODPerformanceLevels_Set ||
                NULL == ADL_Overdrive5_PowerControl_Caps ||
                NULL == ADL_Overdrive5_PowerControlInfo_Get ||
                NULL == ADL_Overdrive5_PowerControl_Get ||
                NULL == ADL_Overdrive5_PowerControl_Set)
        {
       printf(<span class="stringliteral">"ADL's API is missing!\n"</span>);
           <span class="keywordflow">return</span> 0; 
        }

        <a class="code" href="structADLThermalControllerInfo.html" title="Structure containing information about thermal controller.">ADLThermalControllerInfo</a> termalControllerInfo = {0};
        termalControllerInfo.<a name="a33"></a><a class="code" href="structADLThermalControllerInfo.html#653fc84bce4b04dbb0994ea39bf6d480" title="Must be set to the size of the structure.">iSize</a> = <span class="keyword">sizeof</span> (<a class="code" href="structADLThermalControllerInfo.html" title="Structure containing information about thermal controller.">ADLThermalControllerInfo</a>);

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iThermalControllerIndex = 0; iThermalControllerIndex &lt; 10; iThermalControllerIndex++) 
        {
                ADL_Err = <a class="code" href="group__OVERDRIVE5.html#g574cbd512c40f9d0984b0c14ecf15168" title="Function to retrieve thermal devices information.">ADL_Overdrive5_ThermalDevices_Enum</a> (adapterId, iThermalControllerIndex, &amp;termalControllerInfo);                       

                <span class="keywordflow">if</span> (ADL_Err == ADL_WARNING_NO_DATA)
                {
                        maxThermalControllerIndex = iThermalControllerIndex - 1;
                        <span class="keywordflow">break</span>;
                }

                <span class="keywordflow">if</span> (ADL_Err == ADL_WARNING_NO_DATA)
                {
                   printf(<span class="stringliteral">"Failed to enumerate thermal devices\n"</span>);
                   <span class="keywordflow">return</span> 0;
                }                       

                <span class="keywordflow">if</span> (termalControllerInfo.<a name="a34"></a><a class="code" href="structADLThermalControllerInfo.html#7f2a00af824041e5795e6919b1351225" title="Possible valies: ADL_DL_THERMAL_DOMAIN_OTHER or ADL_DL_THERMAL_DOMAIN_GPU.">iThermalDomain</a> == <a name="a35"></a><a class="code" href="group__DEFINES.html#g76f9cfb6ea2a19eb2c5099b6886d2fad">ADL_DL_THERMAL_DOMAIN_GPU</a>)
                {
                        <a class="code" href="structADLTemperature.html" title="Structure containing information about thermal controller temperature.">ADLTemperature</a> adlTemperature = {0};
                        adlTemperature.<a name="a36"></a><a class="code" href="structADLTemperature.html#c1c772661ef0c835ec7ed3516fb9606d" title="Must be set to the size of the structure.">iSize</a> = <span class="keyword">sizeof</span> (<a class="code" href="structADLTemperature.html" title="Structure containing information about thermal controller temperature.">ADLTemperature</a>);
                        <span class="keywordflow">if</span> (<a name="a37"></a><a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_Temperature_Get ( adapterId, iThermalControllerIndex, &amp;adlTemperature ))
                        {
                                printf(<span class="stringliteral">"Failed to get thermal devices temperature\n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }
                        <span class="keywordtype">int</span> temperatureInDegreesCelsius = adlTemperature.<a name="a38"></a><a class="code" href="structADLTemperature.html#eb15073c06c9f1b41f330a0fc577a0c0" title="Temperature in millidegrees Celsius.">iTemperature</a> / 1000; <span class="comment">// The temperature is returned in millidegrees Celsius.</span>

                        
                        fanSpeedInfo.<a name="a39"></a><a class="code" href="structADLFanSpeedInfo.html#9c44b9ff7072fb1faad7619eb76564c2" title="Must be set to the size of the structure.">iSize</a> = <span class="keyword">sizeof</span> (<a class="code" href="structADLFanSpeedInfo.html" title="Structure containing information about thermal controller fan speed.">ADLFanSpeedInfo</a>);
                        <span class="keywordflow">if</span> ( <a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_FanSpeedInfo_Get (adapterId, iThermalControllerIndex, &amp;fanSpeedInfo))
                        {
                                printf(<span class="stringliteral">"Failed to get fan caps\n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }

                        <a class="code" href="structADLFanSpeedValue.html" title="Structure containing information about fan speed reported by thermal controller.">ADLFanSpeedValue</a> fanSpeedValue = {0};
                        fanSpeedReportingMethod = ((fanSpeedInfo.<a name="a40"></a><a class="code" href="structADLFanSpeedInfo.html#91f76062bf84454258db27c42de9d343" title="Fan speed cotrol">iFlags</a> &amp; <a name="a41"></a><a class="code" href="group__define__fanctrl.html#g9006c1ad3d61d0f81025c4b6a989888b">ADL_DL_FANCTRL_SUPPORTS_RPM_READ</a>) == <a class="code" href="group__define__fanctrl.html#g9006c1ad3d61d0f81025c4b6a989888b">ADL_DL_FANCTRL_SUPPORTS_RPM_READ</a> )? <a name="a42"></a><a class="code" href="group__DEFINES.html#gb83d685e8ac592608731b2a6b2e3f36c">ADL_DL_FANCTRL_SPEED_TYPE_RPM</a> : <a name="a43"></a><a class="code" href="group__DEFINES.html#g191b43364e537822122872e5bc8a416f">ADL_DL_FANCTRL_SPEED_TYPE_PERCENT</a>;
                        <span class="comment">//Set to ADL_DL_FANCTRL_SPEED_TYPE_RPM or to ADL_DL_FANCTRL_SPEED_TYPE_PERCENT to request fan speed to be returned in rounds per minute or in percentage points.</span>
                        <span class="comment">//Note that the call might fail if requested fan speed reporting method is not supported by the GPU.</span>
                        fanSpeedValue.<a name="a44"></a><a class="code" href="structADLFanSpeedValue.html#9ee11345f6a9ad58142072fb0c729c8c" title="Possible valies: ADL_DL_FANCTRL_SPEED_TYPE_PERCENT or ADL_DL_FANCTRL_SPEED_TYPE_RPM...">iSpeedType</a> = fanSpeedReportingMethod; 
                        <span class="keywordflow">if</span> ( <a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_FanSpeed_Get (adapterId, iThermalControllerIndex, &amp;fanSpeedValue))
                        {
                                printf(<span class="stringliteral">"Failed to get fan speed\n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }

                        printf (<span class="stringliteral">"Thermal controller id:%d \n"</span>, iThermalControllerIndex);
                        printf (<span class="stringliteral">"Current temperature: %d\n"</span>, temperatureInDegreesCelsius);
                        <span class="keywordflow">if</span> (fanSpeedReportingMethod == <a class="code" href="group__DEFINES.html#gb83d685e8ac592608731b2a6b2e3f36c">ADL_DL_FANCTRL_SPEED_TYPE_RPM</a>)
                        {
                                printf (<span class="stringliteral">"Current fan speed: %d rpm\n"</span>, fanSpeedValue.<a name="a45"></a><a class="code" href="structADLFanSpeedValue.html#00f6185795ce4312c9bb3e96282e63fd" title="Fan speed value.">iFanSpeed</a>);
                                printf (<span class="stringliteral">"Minimum fan speed: %d rpm\n"</span>, fanSpeedInfo.<a name="a46"></a><a class="code" href="structADLFanSpeedInfo.html#1a99317ca6dc7a1b74cc740d3ae319b3" title="Minimum possible fan speed value in RPM.">iMinRPM</a>);
                                printf (<span class="stringliteral">"Maximum fan speed: %d rpm\n"</span>, fanSpeedInfo.<a name="a47"></a><a class="code" href="structADLFanSpeedInfo.html#807503eb1c8d8ebd2cd567d1478f146a" title="Maximum possible fan speed value in RPM.">iMaxRPM</a>);
                        }
                        <span class="keywordflow">else</span>
                        {
                                printf (<span class="stringliteral">"Current fan speed: %d percent\n"</span>, fanSpeedValue.<a class="code" href="structADLFanSpeedValue.html#00f6185795ce4312c9bb3e96282e63fd" title="Fan speed value.">iFanSpeed</a>);
                                printf (<span class="stringliteral">"Minimum fan speed: %d percent\n"</span>, fanSpeedInfo.<a name="a48"></a><a class="code" href="structADLFanSpeedInfo.html#ff4c3e378c8e8e60c7f9a53c11331750" title="Minimum possible fan speed value in percents.">iMinPercent</a>);
                                printf (<span class="stringliteral">"Maximum fan speed: %d percent\n"</span>, fanSpeedInfo.<a name="a49"></a><a class="code" href="structADLFanSpeedInfo.html#9e3b917af6329dce29927b2b7899c8eb" title="Maximum possible fan speed value in percents.">iMaxPercent</a>);
                        }                               
                }
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_PowerControl_Caps (adapterId, &amp;powerControlSupported))
        {
                printf(<span class="stringliteral">"Failed to get Power Controls support\n"</span>);
                <span class="keywordflow">return</span> 0;
        }
        
        <span class="keywordflow">if</span> (powerControlSupported)
        {                       
                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_PowerControlInfo_Get (adapterId, &amp;powerControlInfo))
                {
                        printf(<span class="stringliteral">"Failed to get Power Controls Info\n"</span>);
                        <span class="keywordflow">return</span> 0;
                }

                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_PowerControl_Get (adapterId, &amp;powerControlCurrent, &amp;powerControlDefault))
                {
                        printf(<span class="stringliteral">"Failed to get Power Control current value\n"</span>);
                        <span class="keywordflow">return</span> 0;
                }

                printf (<span class="stringliteral">"The Power Control threshold range is %d to %d with step of %d \n"</span>, powerControlInfo.<a name="a50"></a><a class="code" href="structADLPowerControlInfo.html#1ec3552acc0622dbfc0fc74b5fee61c8" title="Minimum value.">iMinValue</a>, powerControlInfo.<a name="a51"></a><a class="code" href="structADLPowerControlInfo.html#9478ded686f5e0bdc8e8888f0fd22384" title="Maximum value.">iMaxValue</a>, powerControlInfo.<a name="a52"></a><a class="code" href="structADLPowerControlInfo.html#af9159629765dec72a36c68563616e6e" title="The minimum change in between minValue and maxValue.">iStepValue</a>);
                printf (<span class="stringliteral">"Current value of Power Control threshold is %d \n"</span>, powerControlCurrent);
        }
        


        <a class="code" href="structADLODParameters.html" title="Structure containing information about Overdrive parameters.">ADLODParameters</a> overdriveParameters = {0};
        overdriveParameters.<a name="a53"></a><a class="code" href="structADLODParameters.html#d2afc8b7a4e33092518cf7579104a873" title="Must be set to the size of the structure.">iSize</a> = <span class="keyword">sizeof</span> (<a class="code" href="structADLODParameters.html" title="Structure containing information about Overdrive parameters.">ADLODParameters</a>);

        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_ODParameters_Get (adapterId, &amp;overdriveParameters))
        {
                printf(<span class="stringliteral">"Failed to get overdrive parameters\n"</span>);
                <span class="keywordflow">return</span> 0;
        }

        printf (<span class="stringliteral">"The GPU  Engine clock range is %d..%d MHz with step of %d Mhz \n"</span>, 
                overdriveParameters.<a name="a54"></a><a class="code" href="structADLODParameters.html#c838163c5e331e92f01fe9d14208d53c" title="Engine clock range.">sEngineClock</a>.<a name="a55"></a><a class="code" href="structADLODParameterRange.html#3ea54961c7a86c1a5995bce62f498be3" title="Minimum parameter value.">iMin</a> /100, 
                overdriveParameters.<a class="code" href="structADLODParameters.html#c838163c5e331e92f01fe9d14208d53c" title="Engine clock range.">sEngineClock</a>.<a name="a56"></a><a class="code" href="structADLODParameterRange.html#b7bcd9202baf825074c3682ef1a849cc" title="Maximum parameter value.">iMax</a> /100,
                overdriveParameters.<a class="code" href="structADLODParameters.html#c838163c5e331e92f01fe9d14208d53c" title="Engine clock range.">sEngineClock</a>.<a name="a57"></a><a class="code" href="structADLODParameterRange.html#cc9a046d2a659f5c920d90e63b65ba71" title="Parameter step value.">iStep</a> / 100);

        printf (<span class="stringliteral">"The GPU  Memory clock range is %d..%d MHz with step of %d MHz\n"</span>, 
                overdriveParameters.<a name="a58"></a><a class="code" href="structADLODParameters.html#5ce57051eee9b14a4bb7adcd3ead7fa3" title="Memory clock range.">sMemoryClock</a>.<a class="code" href="structADLODParameterRange.html#3ea54961c7a86c1a5995bce62f498be3" title="Minimum parameter value.">iMin</a> / 100, 
                overdriveParameters.<a class="code" href="structADLODParameters.html#5ce57051eee9b14a4bb7adcd3ead7fa3" title="Memory clock range.">sMemoryClock</a>.<a class="code" href="structADLODParameterRange.html#b7bcd9202baf825074c3682ef1a849cc" title="Maximum parameter value.">iMax</a> / 100,
                overdriveParameters.<a class="code" href="structADLODParameters.html#5ce57051eee9b14a4bb7adcd3ead7fa3" title="Memory clock range.">sMemoryClock</a>.<a class="code" href="structADLODParameterRange.html#cc9a046d2a659f5c920d90e63b65ba71" title="Parameter step value.">iStep</a>);


        printf (<span class="stringliteral">"The GPU  Core Voltage range is %d..%d with step of %d \n"</span>, 
                overdriveParameters.<a name="a59"></a><a class="code" href="structADLODParameters.html#d34c00711457eab9041d86a0831c0775" title="Core voltage range.">sVddc</a>.<a class="code" href="structADLODParameterRange.html#3ea54961c7a86c1a5995bce62f498be3" title="Minimum parameter value.">iMin</a>, 
                overdriveParameters.<a class="code" href="structADLODParameters.html#d34c00711457eab9041d86a0831c0775" title="Core voltage range.">sVddc</a>.<a class="code" href="structADLODParameterRange.html#b7bcd9202baf825074c3682ef1a849cc" title="Maximum parameter value.">iMax</a>,
                overdriveParameters.<a class="code" href="structADLODParameters.html#d34c00711457eab9041d86a0831c0775" title="Core voltage range.">sVddc</a>.<a class="code" href="structADLODParameterRange.html#cc9a046d2a659f5c920d90e63b65ba71" title="Parameter step value.">iStep</a>);


        <span class="keywordflow">if</span> (overdriveParameters.<a name="a60"></a><a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> &gt; 0)
        {
                <span class="comment">//Overdrive5 GPUs support few performance levels. Application can set distinct engine clocks, memory clocks, core voltage </span>
                <span class="comment">//for each of the performance levels. Performance level with index 0 corresponds to lowest performance system state. </span>
                <span class="comment">//Performance level with highest index corresponds to highest performance system state – 3D game playing for example.</span>
                <span class="comment">//Users are usually interested in overclocking highest index performance level.</span>

                printf (<span class="stringliteral">"The GPU supports %d performance levels: \n"</span>, overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a>);

                <span class="keywordtype">int</span> size = <span class="keyword">sizeof</span> (<a class="code" href="structADLODPerformanceLevels.html" title="Structure containing information about Overdrive performance levels.">ADLODPerformanceLevels</a>) + <span class="keyword">sizeof</span> (<a name="_a61"></a><a class="code" href="structADLODPerformanceLevel.html" title="Structure containing information about Overdrive level.">ADLODPerformanceLevel</a>) * (overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> - 1);
                <span class="keywordtype">void</span>* performanceLevelsBuffer = malloc (size);
                memset (performanceLevelsBuffer, 0, size);
                performanceLevels = (<a class="code" href="structADLODPerformanceLevels.html" title="Structure containing information about Overdrive performance levels.">ADLODPerformanceLevels</a>*)performanceLevelsBuffer;
                performanceLevels-&gt;<a name="a62"></a><a class="code" href="structADLODPerformanceLevels.html#95fc6fe383856546b3fae7fca8d4acca" title="Must be set to sizeof( ADLODPerformanceLevels ) + sizeof( ADLODPerformanceLevel )...">iSize</a> = size;


                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_ODPerformanceLevels_Get (adapterId, 1<span class="comment">/*Getting default values first*/</span> , performanceLevels))
                {
                        printf(<span class="stringliteral">"Failed to get information about supported performance levels.  \n"</span>);                    
                        <span class="keywordflow">return</span> 0;
                }                       
                
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a>; i++)
                {
                        printf(<span class="stringliteral">"Performance level %d - Default Engine Clock:%d MHz, Default Memory Clock:%d MHz, Default Core Voltage:%d \n"</span>,
                                i,
                                performanceLevels-&gt;<a name="a63"></a><a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a name="a64"></a><a class="code" href="structADLODPerformanceLevel.html#843e303423d81e20cb7b357405e6ed1d" title="Engine clock.">iEngineClock</a> / 100,
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a name="a65"></a><a class="code" href="structADLODPerformanceLevel.html#9bb36c212cd1a5926f60bf84e87d230d" title="Memory clock.">iMemoryClock</a> / 100,
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a name="a66"></a><a class="code" href="structADLODPerformanceLevel.html#47c55c9b422333ca38ee6870f4394c07" title="Core voltage.">iVddc</a>);
                }               

                memset (performanceLevelsBuffer, 0, size);
                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#95fc6fe383856546b3fae7fca8d4acca" title="Must be set to sizeof( ADLODPerformanceLevels ) + sizeof( ADLODPerformanceLevel )...">iSize</a> = size;

                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_ODPerformanceLevels_Get (adapterId, 0<span class="comment">/*Getting current values first*/</span> , performanceLevels))
                {
                        printf(<span class="stringliteral">"Failed to get information about supported performance levels.  \n"</span>);
                        <span class="keywordflow">return</span> 0;
                }
                
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a>; i++)
                {
                        printf(<span class="stringliteral">"Performance level %d - Current Engine Clock:%d MHz, Current Memory Clock:%d MHz, Current Core Voltage:%d \n"</span>,
                                i,
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a class="code" href="structADLODPerformanceLevel.html#843e303423d81e20cb7b357405e6ed1d" title="Engine clock.">iEngineClock</a> / 100,
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a class="code" href="structADLODPerformanceLevel.html#9bb36c212cd1a5926f60bf84e87d230d" title="Memory clock.">iMemoryClock</a> / 100,
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[i].<a class="code" href="structADLODPerformanceLevel.html#47c55c9b422333ca38ee6870f4394c07" title="Core voltage.">iVddc</a>);
                }               
        }

        <span class="comment">//Getting real current values for clocks, performance levels, voltage effective in the system.</span>
        <a class="code" href="structADLPMActivity.html" title="Structure containing information about current power management related activity...">ADLPMActivity</a> activity = {0};
        activity.<a name="a67"></a><a class="code" href="structADLPMActivity.html#de60cbd184381aeb002e2c857fc5ceeb" title="Must be set to the size of the structure.">iSize</a> = <span class="keyword">sizeof</span> (<a class="code" href="structADLPMActivity.html" title="Structure containing information about current power management related activity...">ADLPMActivity</a>);
        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_CurrentActivity_Get (adapterId, &amp;activity))
        {
                printf(<span class="stringliteral">"Failed to get current GPU activity.  \n"</span>);
                <span class="keywordflow">return</span> 0;
        }
        printf (<span class="stringliteral">"Current Engine Clock: %d MHz\n"</span>, activity.<a name="a68"></a><a class="code" href="structADLPMActivity.html#4e38178d2f1bb26c64dd219b0fb4c662" title="Current engine clock.">iEngineClock</a> / 100);
        printf (<span class="stringliteral">"Current Memory Clock: %d MHz\n"</span>, activity.<a name="a69"></a><a class="code" href="structADLPMActivity.html#66fd94d610cede9bcc192ce7b07ee174" title="Current memory clock.">iMemoryClock</a> / 100);
        printf (<span class="stringliteral">"Current Core Voltage: %d \n"</span>, activity.<a name="a70"></a><a class="code" href="structADLPMActivity.html#725a42ddadf4a10c81a27a2188791fdb" title="Current core voltage.">iVddc</a>);                 
        printf (<span class="stringliteral">"Current Performance Level: %d \n"</span>, activity.<a name="a71"></a><a class="code" href="structADLPMActivity.html#dc93e6280d3c25ccdb40fc301efa738c" title="Performance level index.">iCurrentPerformanceLevel</a>);                 

        <span class="keywordflow">if</span> (overdriveParameters.<a name="a72"></a><a class="code" href="structADLODParameters.html#35bd66fbf4d684027e0e3272ad316849" title="Indicates whether the GPU is capable to measure its activity.">iActivityReportingSupported</a>)
        {
                printf (<span class="stringliteral">"Current Engine Clock: %d persent\n"</span>, activity.<a name="a73"></a><a class="code" href="structADLPMActivity.html#f97f850adc7f186e65d0dcdae3dc2f86" title="GPU utilization.">iActivityPercent</a>);
        }
        
        <span class="keywordtype">char</span> input_str[10] = <span class="stringliteral">""</span>;

        <span class="keywordflow">if</span> ( ((fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#91f76062bf84454258db27c42de9d343" title="Fan speed cotrol">iFlags</a> &amp; <a name="a74"></a><a class="code" href="group__define__fanctrl.html#g0b76f2c830fe502258dd8eda32e55e20">ADL_DL_FANCTRL_SUPPORTS_RPM_WRITE</a>) == <a class="code" href="group__define__fanctrl.html#g0b76f2c830fe502258dd8eda32e55e20">ADL_DL_FANCTRL_SUPPORTS_RPM_WRITE</a>) ||
                ((fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#91f76062bf84454258db27c42de9d343" title="Fan speed cotrol">iFlags</a> &amp; <a name="a75"></a><a class="code" href="group__define__fanctrl.html#gf4b4a680f7e0bc5da1b3c7e26a402d27">ADL_DL_FANCTRL_SUPPORTS_PERCENT_WRITE</a>) == <a class="code" href="group__define__fanctrl.html#gf4b4a680f7e0bc5da1b3c7e26a402d27">ADL_DL_FANCTRL_SUPPORTS_PERCENT_WRITE</a>))
        {
                printf (<span class="stringliteral">"Do you want to change the fan speed(y/n)?:\n"</span>);                
                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        printf (<span class="stringliteral">"Enter thermal controller id between 0 and %d \n"</span>, maxThermalControllerIndex);
                        gets_s (input_str);
                        <span class="keywordtype">int</span> thermalController = atoi (input_str);

                        <span class="keywordflow">if</span> ( (fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#91f76062bf84454258db27c42de9d343" title="Fan speed cotrol">iFlags</a> &amp; <a class="code" href="group__define__fanctrl.html#g0b76f2c830fe502258dd8eda32e55e20">ADL_DL_FANCTRL_SUPPORTS_RPM_WRITE</a>) == <a class="code" href="group__define__fanctrl.html#g0b76f2c830fe502258dd8eda32e55e20">ADL_DL_FANCTRL_SUPPORTS_RPM_WRITE</a>) 
                        {
                                printf (<span class="stringliteral">"Enter requested fan speed between %d and %d RPM:\n"</span>, fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#1a99317ca6dc7a1b74cc740d3ae319b3" title="Minimum possible fan speed value in RPM.">iMinRPM</a>, fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#807503eb1c8d8ebd2cd567d1478f146a" title="Maximum possible fan speed value in RPM.">iMaxRPM</a>);
                        }
                        <span class="keywordflow">else</span>
                                printf (<span class="stringliteral">"Enter requested fan speed between %d and %d Percent :\n"</span>, fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#ff4c3e378c8e8e60c7f9a53c11331750" title="Minimum possible fan speed value in percents.">iMinPercent</a>, fanSpeedInfo.<a class="code" href="structADLFanSpeedInfo.html#9e3b917af6329dce29927b2b7899c8eb" title="Maximum possible fan speed value in percents.">iMaxPercent</a>);

                        gets_s (input_str);
                        <span class="keywordtype">int</span> fanSpeed = atoi (input_str);

                        <a class="code" href="structADLFanSpeedValue.html" title="Structure containing information about fan speed reported by thermal controller.">ADLFanSpeedValue</a> newFanSpeed = {0};
                        newFanSpeed.<a class="code" href="structADLFanSpeedValue.html#9ee11345f6a9ad58142072fb0c729c8c" title="Possible valies: ADL_DL_FANCTRL_SPEED_TYPE_PERCENT or ADL_DL_FANCTRL_SPEED_TYPE_RPM...">iSpeedType</a> = fanSpeedReportingMethod;
                        newFanSpeed.<a class="code" href="structADLFanSpeedValue.html#00f6185795ce4312c9bb3e96282e63fd" title="Fan speed value.">iFanSpeed</a> = fanSpeed;

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_FanSpeed_Set (adapterId, thermalController, &amp;newFanSpeed))
                        {
                                printf(<span class="stringliteral">"Failed to set new fan speed. \n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }
                }
        }

        <span class="keywordflow">if</span> (overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> &gt; 0)
        {
                <span class="comment">//High performance level is the one that affects 3d graphics during game playing. </span>
                <span class="comment">//In most of the cases the applications will be interested in changing only high performance level attributes.</span>
                printf (<span class="stringliteral">"Do you want to change the Engine Clock of high performance level(y/n)?:\n"</span>);

                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        printf (<span class="stringliteral">"Enter new requested Engine Clock between %d and %d MHz: \n"</span>, 
                                (overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> == 1)? overdriveParameters.<a class="code" href="structADLODParameters.html#c838163c5e331e92f01fe9d14208d53c" title="Engine clock range.">sEngineClock</a>.<a class="code" href="structADLODParameterRange.html#3ea54961c7a86c1a5995bce62f498be3" title="Minimum parameter value.">iMin</a> /100 : 
                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> - 2].<a class="code" href="structADLODPerformanceLevel.html#843e303423d81e20cb7b357405e6ed1d" title="Engine clock.">iEngineClock</a> / 100,
                                overdriveParameters.<a class="code" href="structADLODParameters.html#c838163c5e331e92f01fe9d14208d53c" title="Engine clock range.">sEngineClock</a>.<a class="code" href="structADLODParameterRange.html#b7bcd9202baf825074c3682ef1a849cc" title="Maximum parameter value.">iMax</a> / 100);

                        gets_s (input_str);
                        <span class="keywordtype">int</span> clocks = atoi (input_str) * 100;

                        performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> - 1].<a class="code" href="structADLODPerformanceLevel.html#843e303423d81e20cb7b357405e6ed1d" title="Engine clock.">iEngineClock</a> = clocks;

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_ODPerformanceLevels_Set (adapterId, performanceLevels) )
                        {
                                printf(<span class="stringliteral">"Failed to set new Engine Clock. \n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }
                }
                <span class="keywordflow">else</span>
                {
                        printf (<span class="stringliteral">"Do you want to change the Memory Clock of high performance level(y/n)?:\n"</span>);
                        gets_s (input_str);
                        <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                        {
                                printf (<span class="stringliteral">"Enter new requested Memory Clock between %d and %d MHz: \n"</span>, 
                                        (overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> == 1)? overdriveParameters.<a class="code" href="structADLODParameters.html#5ce57051eee9b14a4bb7adcd3ead7fa3" title="Memory clock range.">sMemoryClock</a>.<a class="code" href="structADLODParameterRange.html#3ea54961c7a86c1a5995bce62f498be3" title="Minimum parameter value.">iMin</a> /100 : 
                                        performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> - 2].<a class="code" href="structADLODPerformanceLevel.html#9bb36c212cd1a5926f60bf84e87d230d" title="Memory clock.">iMemoryClock</a> / 100,
                                        overdriveParameters.<a class="code" href="structADLODParameters.html#5ce57051eee9b14a4bb7adcd3ead7fa3" title="Memory clock range.">sMemoryClock</a>.<a class="code" href="structADLODParameterRange.html#b7bcd9202baf825074c3682ef1a849cc" title="Maximum parameter value.">iMax</a> / 100);

                                gets_s (input_str);
                                <span class="keywordtype">int</span> clocks = atoi (input_str) * 100;

                                performanceLevels-&gt;<a class="code" href="structADLODPerformanceLevels.html#e3f351a8991e6756873ad3813d074542" title="Array of performance state descriptors. Must have ADLODParameters.iNumberOfPerformanceLevels...">aLevels</a>[overdriveParameters.<a class="code" href="structADLODParameters.html#3ec180c31728be8fc9d87968d4a23ed1" title="Number of standard performance states.">iNumberOfPerformanceLevels</a> - 1].<a class="code" href="structADLODPerformanceLevel.html#9bb36c212cd1a5926f60bf84e87d230d" title="Memory clock.">iMemoryClock</a> = clocks;

                                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_ODPerformanceLevels_Set (adapterId, performanceLevels) )
                                {
                                        printf(<span class="stringliteral">"Failed to set new Memory Clock. \n"</span>);
                                        <span class="keywordflow">return</span> 0;
                                }
                        }
                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (powerControlSupported)
                        {
                                printf (<span class="stringliteral">"Do you want to change the value of Power Control threshold (y/n)?:\n"</span>);
                                gets_s (input_str);
                                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                                {
                                        printf (<span class="stringliteral">"Enter new value of Power Control threshold between %d and %d: \n"</span>, powerControlInfo.<a class="code" href="structADLPowerControlInfo.html#1ec3552acc0622dbfc0fc74b5fee61c8" title="Minimum value.">iMinValue</a>, powerControlInfo.<a class="code" href="structADLPowerControlInfo.html#9478ded686f5e0bdc8e8888f0fd22384" title="Maximum value.">iMaxValue</a>);
                                        gets_s (input_str);
                                        <span class="keywordtype">int</span> newPowerControlTreshold = atoi (input_str);
                                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive5_PowerControl_Set (adapterId, newPowerControlTreshold))
                                        {
                                                printf(<span class="stringliteral">"Failed to set new Power Control treshold. \n"</span>);
                                                <span class="keywordflow">return</span> 0;
                                        }
                                }
                        }
                }
        }
        <span class="keywordflow">return</span> 0;
}


<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span><span class="keywordtype">int</span> Overdrive6Sample(<span class="keywordtype">int</span> adapterId, <span class="keywordtype">void</span>* hDLL)
<span class="preprocessor">#else    </span>
<span class="preprocessor"></span><span class="keywordtype">int</span> Overdrive6Sample(<span class="keywordtype">int</span> adapterId, HINSTANCE hDLL)
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>{
        <a class="code" href="struct__ADLOD6FanSpeedInfo.html" title="Structure containing information about Overdrive 6 fan speed information.">ADLOD6FanSpeedInfo</a> fanSpeedInfo = {0};
        <a class="code" href="struct__ADLOD6ThermalControllerCaps.html" title="Structure containing information about Overdrive 6 thermal contoller capabilities...">ADLOD6ThermalControllerCaps</a> thermalControllerCaps = {0};
        <a class="code" href="struct__ADLOD6Capabilities.html" title="Structure containing information about Overdrive 6 capabilities.">ADLOD6Capabilities</a> od6Capabilities = {0};
        <span class="keywordtype">int</span> temperature = 0;
        <a class="code" href="struct__ADLOD6CurrentStatus.html" title="Structure containing information about current Overdrive 6 performance status.">ADLOD6CurrentStatus</a> currentStatus = {0};
        <span class="keywordtype">int</span> powerControlSupported = 0;
        <a class="code" href="struct__ADLOD6PowerControlInfo.html" title="Structure containing information about Overdrive 6 PowerControl settings.">ADLOD6PowerControlInfo</a> powerControlInfo = {0};
        <span class="keywordtype">int</span> powerControlCurrent = 0;
        <span class="keywordtype">int</span> powerControlDefault = 0;
        <a class="code" href="struct__ADLOD6FanSpeedValue.html" title="Structure containing information about Overdrive 6 fan speed value.">ADLOD6FanSpeedValue</a> fanSpeedValue = {0};

        ADL_OVERDRIVE6_FANSPEED_GET <a name="a76"></a><a class="code" href="group__OVERDRIVE6.html#g29f9bf91ea7aaec29c835c9dc021905d" title="Function to retrieve the fan speed reported by the thermal controller.">ADL_Overdrive6_FanSpeed_Get</a>;
        ADL_OVERDRIVE6_THERMALCONTROLLER_CAPS <a name="a77"></a><a class="code" href="group__OVERDRIVE6.html#g956cb9ec9af7178250a6530533b79af3" title="Function to retrieve capabilities of the GPU thermal controller.">ADL_Overdrive6_ThermalController_Caps</a>;
        ADL_OVERDRIVE6_TEMPERATURE_GET <a name="a78"></a><a class="code" href="group__OVERDRIVE6.html#gbaa5afccb636996c9a16fae9ea98a82f" title="Function to retrieve GPU temperature from the thermal controller.">ADL_Overdrive6_Temperature_Get</a>;
        ADL_OVERDRIVE6_CAPABILITIES_GET <a name="a79"></a><a class="code" href="group__OVERDRIVE6.html#g817b018f3883c12f19966f79672c3977" title="Function to retrieve the current Overdrive capabilities.">ADL_Overdrive6_Capabilities_Get</a>;
        ADL_OVERDRIVE6_STATEINFO_GET <a name="a80"></a><a class="code" href="group__OVERDRIVE6.html#g3e062278489f944781c2741569b0cba6" title="Function to retrieve the current or default Overdrive clock ranges.">ADL_Overdrive6_StateInfo_Get</a>;
        ADL_OVERDRIVE6_CURRENTSTATUS_GET <a name="a81"></a><a class="code" href="group__OVERDRIVE6.html#g76edc54044a61f60f718305c30d6f5f9" title="Function to retrieve current Overdrive and performance-related activity.">ADL_Overdrive6_CurrentStatus_Get</a>;
        ADL_OVERDRIVE6_POWERCONTROL_CAPS <a name="a82"></a><a class="code" href="group__OVERDRIVE6.html#g9e502a8194ff13acf920912d5f9feb5d" title="Function to check for PowerControl capabilities.">ADL_Overdrive6_PowerControl_Caps</a>;
        ADL_OVERDRIVE6_POWERCONTROLINFO_GET <a name="a83"></a><a class="code" href="group__OVERDRIVE6.html#gd64f2d1684fffaedc7504a5cde60efe3" title="Function to get the PowerControl adjustment range.">ADL_Overdrive6_PowerControlInfo_Get</a>;
        ADL_OVERDRIVE6_POWERCONTROL_GET <a name="a84"></a><a class="code" href="group__OVERDRIVE6.html#gaaa9e86cf798bd32745c2eee2879adfb" title="Function to get the current and default PowerControl adjustment values.">ADL_Overdrive6_PowerControl_Get</a>;
        ADL_OVERDRIVE6_FANSPEED_SET <a name="a85"></a><a class="code" href="group__OVERDRIVE6.html#g2d21f033f02a259ce7d805f61c59e593" title="Function to set the fan speed.">ADL_Overdrive6_FanSpeed_Set</a>;
        ADL_OVERDRIVE6_STATE_SET ADL_Overdrive6_State_Set;
        ADL_OVERDRIVE6_POWERCONTROL_SET <a name="a86"></a><a class="code" href="group__OVERDRIVE6.html#g6843ab51e22419e65906eb896b44c8d1" title="Function to set the current PowerControl adjustment value.">ADL_Overdrive6_PowerControl_Set</a>;
        


        ADL_Overdrive6_FanSpeed_Get = (ADL_OVERDRIVE6_FANSPEED_GET) GetProcAddress(hDLL,<span class="stringliteral">"ADL_Overdrive6_FanSpeed_Get"</span>);
        ADL_Overdrive6_ThermalController_Caps = (ADL_OVERDRIVE6_THERMALCONTROLLER_CAPS)GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive6_ThermalController_Caps"</span>);
        ADL_Overdrive6_Temperature_Get = (ADL_OVERDRIVE6_TEMPERATURE_GET)GetProcAddress (hDLL, <span class="stringliteral">"ADL_Overdrive6_Temperature_Get"</span>);
        ADL_Overdrive6_Capabilities_Get = (ADL_OVERDRIVE6_CAPABILITIES_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_Capabilities_Get"</span>);
        ADL_Overdrive6_StateInfo_Get = (ADL_OVERDRIVE6_STATEINFO_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_StateInfo_Get"</span>);
        ADL_Overdrive6_CurrentStatus_Get = (ADL_OVERDRIVE6_CURRENTSTATUS_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_CurrentStatus_Get"</span>);
        ADL_Overdrive6_PowerControl_Caps = (ADL_OVERDRIVE6_POWERCONTROL_CAPS)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_PowerControl_Caps"</span>);
        ADL_Overdrive6_PowerControlInfo_Get = (ADL_OVERDRIVE6_POWERCONTROLINFO_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_PowerControlInfo_Get"</span>);
        ADL_Overdrive6_PowerControl_Get = (ADL_OVERDRIVE6_POWERCONTROL_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_PowerControl_Get"</span>);
        ADL_Overdrive6_FanSpeed_Set  = (ADL_OVERDRIVE6_FANSPEED_SET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_FanSpeed_Set"</span>);
        ADL_Overdrive6_State_Set = (ADL_OVERDRIVE6_STATE_SET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_State_Set"</span>);
        ADL_Overdrive6_PowerControl_Set = (ADL_OVERDRIVE6_POWERCONTROL_SET) GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive6_PowerControl_Set"</span>);


        <span class="keywordflow">if</span> (NULL == ADL_Overdrive6_FanSpeed_Get ||
                NULL == ADL_Overdrive6_ThermalController_Caps ||
                NULL == ADL_Overdrive6_Temperature_Get ||
                NULL == ADL_Overdrive6_Capabilities_Get ||
                NULL == ADL_Overdrive6_StateInfo_Get ||
                NULL == ADL_Overdrive6_CurrentStatus_Get ||
                NULL == ADL_Overdrive6_PowerControl_Caps ||
                NULL == ADL_Overdrive6_PowerControlInfo_Get ||
                NULL == ADL_Overdrive6_PowerControl_Get || 
                NULL == ADL_Overdrive6_FanSpeed_Set ||
                NULL == ADL_Overdrive6_State_Set ||
                NULL == ADL_Overdrive6_PowerControl_Set)
        {
       printf(<span class="stringliteral">"ADL's API is missing!\n"</span>);
           <span class="keywordflow">return</span> 0; 
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_ThermalController_Caps (adapterId, &amp;thermalControllerCaps))
        {
       printf(<span class="stringliteral">"Failed to get thermal controller capabilities \n"</span>);
           <span class="keywordflow">return</span> 0; 
        }
        
        <span class="keywordflow">if</span> ( <a name="a87"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gd8d554c44218496d7c28aecfbc49793f" title="GPU fan speed control is supported.">ADL_OD6_TCCAPS_FANSPEED_CONTROL</a> == (thermalControllerCaps.<a name="a88"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gd8d554c44218496d7c28aecfbc49793f" title="GPU fan speed control is supported.">ADL_OD6_TCCAPS_FANSPEED_CONTROL</a>) ) <span class="comment">//Verifies that fan speed controller exists on the GPU.</span>
        {                       
                <span class="keywordflow">if</span> (<a name="a89"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g4f97922c7790372fcb858e3b12f2b276" title="Fan speed percentage can be read.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_READ</a> == (thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g4f97922c7790372fcb858e3b12f2b276" title="Fan speed percentage can be read.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_READ</a> ) ||
                        <a name="a90"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g1c083bfc0f9c4c6668491b195a439730" title="Fan speed RPM (revolutions-per-minute) can be read.">ADL_OD6_TCCAPS_FANSPEED_RPM_READ</a> == (thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g1c083bfc0f9c4c6668491b195a439730" title="Fan speed RPM (revolutions-per-minute) can be read.">ADL_OD6_TCCAPS_FANSPEED_RPM_READ</a> ) )
                {
                        <span class="comment">/*fanSpeedInfo.iSpeedType = ((thermalControllerCaps.iCapabilities &amp; ADL_OD6_TCCAPS_FANSPEED_RPM_READ) == ADL_OD6_TCCAPS_FANSPEED_RPM_READ)? </span>
<span class="comment">                                                                                ADL_OD6_FANSPEED_TYPE_RPM :</span>
<span class="comment">                                                                                ADL_OD6_FANSPEED_TYPE_PERCENT;*/</span>

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_FanSpeed_Get (adapterId, &amp;fanSpeedInfo))
                        {
                                printf(<span class="stringliteral">"Failed to get fan speed info\n"</span>);
                                <span class="keywordflow">return</span> 0; 
                        }

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g1c083bfc0f9c4c6668491b195a439730" title="Fan speed RPM (revolutions-per-minute) can be read.">ADL_OD6_TCCAPS_FANSPEED_RPM_READ</a> == (thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g1c083bfc0f9c4c6668491b195a439730" title="Fan speed RPM (revolutions-per-minute) can be read.">ADL_OD6_TCCAPS_FANSPEED_RPM_READ</a> ))
                        {
                                printf (<span class="stringliteral">"Fan speed range: %d..%d rpm\n"</span>, thermalControllerCaps.<a name="a91"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html#732668aaa1b9a46af2a8d7a3c979c509" title="Minimum fan speed expressed in revolutions-per-minute.">iFanMinRPM</a>, thermalControllerCaps.<a name="a92"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html#b4ad0b418eba5f18db924919a8be978e" title="Maximum fan speed expressed in revolutions-per-minute.">iFanMaxRPM</a>);                           
                        }
                        <span class="keywordflow">else</span>
                        {
                                printf (<span class="stringliteral">"Fan speed range: %d..%d percent\n"</span>, thermalControllerCaps.<a name="a93"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html#9dd33e19da7dfb99d1c1a57fbfc3a25c" title="Minimum fan speed expressed as a percentage.">iFanMinPercent</a>, thermalControllerCaps.<a name="a94"></a><a class="code" href="struct__ADLOD6ThermalControllerCaps.html#511a5994ffc969dd3c643212de3c0fd9" title="Maximum fan speed expressed as a percentage.">iFanMaxPercent</a>);                               
                        }


                        <span class="keywordflow">if</span> (<a name="a95"></a><a class="code" href="group__define__overdrive6__fanspeed__type.html#gb69247e04cfb9901d95a35c2e357971f" title="Fan speed reported in RPM.">ADL_OD6_FANSPEED_TYPE_RPM</a> == (fanSpeedInfo.<a name="a96"></a><a class="code" href="struct__ADLOD6FanSpeedInfo.html#a18927195961311409fba6eecdf52c73" title="Contains a bitmap of the valid fan speed type flags. Possible values: ADL_OD6_FANSPEED_TYPE_PERCENT...">iSpeedType</a> &amp; <a class="code" href="group__define__overdrive6__fanspeed__type.html#gb69247e04cfb9901d95a35c2e357971f" title="Fan speed reported in RPM.">ADL_OD6_FANSPEED_TYPE_RPM</a>))
                                printf (<span class="stringliteral">"Current fan speed: %d rpm \n"</span>, fanSpeedInfo.<a name="a97"></a><a class="code" href="struct__ADLOD6FanSpeedInfo.html#9cc0aafe3278512ccf253e2d1ab870b2" title="Contains current fan speed in RPM (if valid flag exists in iSpeedType).">iFanSpeedRPM</a>);
                        <span class="keywordflow">else</span>
                                printf (<span class="stringliteral">"Current fan speed: %d percent \n"</span>, fanSpeedInfo.<a name="a98"></a><a class="code" href="struct__ADLOD6FanSpeedInfo.html#84859ee14a6990c6f406cc976260d34c" title="Contains current fan speed in percent (if valid flag exists in iSpeedType).">iFanSpeedPercent</a>);
                }
        }

        <span class="keywordflow">if</span> ( <a name="a99"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gc289e4f38fca8f41aebe40fa2bf63497" title="GPU thermal controller is supported.">ADL_OD6_TCCAPS_THERMAL_CONTROLLER</a> == (thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gc289e4f38fca8f41aebe40fa2bf63497" title="GPU thermal controller is supported.">ADL_OD6_TCCAPS_THERMAL_CONTROLLER</a>) ) <span class="comment">//Verifies that thermal controller exists on the GPU.</span>
        {       
                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_Temperature_Get (adapterId, &amp;temperature))
                {
                        printf(<span class="stringliteral">"Failed to get GPU temperature\n"</span>);
                        <span class="keywordflow">return</span> 0; 
                }

                printf (<span class="stringliteral">"GPU temperature is %d degrees celsius \n"</span>, temperature / 1000); <span class="comment">//The temperature is returned in mili-degree of Celsius </span>
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_Capabilities_Get (adapterId, &amp;od6Capabilities))
        {
                printf(<span class="stringliteral">"Failed to get Overdrive capabilities\n"</span>);
                <span class="keywordflow">return</span> 0;
        }

        <span class="comment">//Overdrive 6 uses performance levels to communicate effective minimum and maximum values for memory and GPU clocks </span>
        <span class="comment">//either requested by user or preconfigured by the driver defaults. Thus only 2 performance levels  should be returned.</span>
        <span class="keywordflow">if</span> (od6Capabilities.<a name="a100"></a><a class="code" href="struct__ADLOD6Capabilities.html#4ad77ca7b213586df65a91c32a484c2a">iNumberOfPerformanceLevels</a> != 2)
        {
                printf(<span class="stringliteral">"Unexpected number of performance levels\n"</span>);
                <span class="keywordflow">return</span> 0;
        }

        <span class="comment">//Calculating buffer needed to contain performance levels information returned by ADL_Overdrive6_StateInfo_Get. </span>
        <span class="comment">//The buffer contains instance of ADLOD6StateInfo at the beginning and trailing space needed to include extra ADLOD6PerformanceLevel structures. </span>
        <span class="comment">//Note that single ADLOD6PerformanceLevel structure is included in ADLOD6StateInfo itself. So the trailing space is needed to be large enough </span>
        <span class="comment">//to hold only one extra ADLOD6PerformanceLevel</span>
        <span class="keywordtype">int</span> size = <span class="keyword">sizeof</span> (<a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a>) + <span class="keyword">sizeof</span> (<a name="_a101"></a><a class="code" href="struct__ADLOD6PerformanceLevel.html" title="Structure containing information about Overdrive 6 clock values.">ADLOD6PerformanceLevel</a>);
        <a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a> * defaultStateInfo = (<a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a>*) malloc (size);
        memset ((<span class="keywordtype">void</span>*)defaultStateInfo, 0, size);
        defaultStateInfo-&gt;<a name="a102"></a><a class="code" href="struct__ADLOD6StateInfo.html#b17313c1abcfb1fa81968a39c5c8460a">iNumberOfPerformanceLevels</a> = 2;
        
        <span class="comment">//Getting default effective minimum and maximum values for memory and GPU clocks.</span>
        <span class="comment">//The only state supported by Overdrive6 is "Performance". </span>
        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_StateInfo_Get (adapterId, <a name="a103"></a><a class="code" href="group__define__overdrive6__getstateinfo.html#g0af82919d521d84b4024df70677863b9" title="Get default clocks for the performance state.">ADL_OD6_GETSTATEINFO_DEFAULT_PERFORMANCE</a>, defaultStateInfo)) 
        {
                printf(<span class="stringliteral">"Failed to get default performance levels info\n"</span>);
                <span class="keywordflow">return</span> 0;
        }       

        <a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a> * customStateInfo = (<a class="code" href="struct__ADLOD6StateInfo.html" title="Structure containing information about Overdrive 6 clocks.">ADLOD6StateInfo</a>*) malloc (size);
        memset ((<span class="keywordtype">void</span>*)customStateInfo, 0, size);
        customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#b17313c1abcfb1fa81968a39c5c8460a">iNumberOfPerformanceLevels</a> = 2;
        
        <span class="comment">//Getting default effective minimum and maximum values for memory and GPU clocks.</span>
        <span class="comment">//The only state supported by Overdrive6 is "Performance". </span>
        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_StateInfo_Get (adapterId, <a name="a104"></a><a class="code" href="group__define__overdrive6__getstateinfo.html#g5c7e54e03dc431854b1e7e0adf6afd89">ADL_OD6_GETSTATEINFO_CUSTOM_PERFORMANCE</a>, customStateInfo)) 
        {
                printf(<span class="stringliteral">"Failed to get custom performance levels info\n"</span>);
                <span class="keywordflow">return</span> 0;
        }

        <span class="keywordflow">if</span> (<a name="a105"></a><a class="code" href="group__define__overdrive6__capabilities.html#g32ac90fb0bfd446c461b65b5edf038f7" title="Indicate that core (engine) clock can be changed.">ADL_OD6_CAPABILITY_SCLK_CUSTOMIZATION</a> == (od6Capabilities.<a name="a106"></a><a class="code" href="struct__ADLOD6Capabilities.html#46121417ba0b27e4c57651a174e6caf8">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__capabilities.html#g32ac90fb0bfd446c461b65b5edf038f7" title="Indicate that core (engine) clock can be changed.">ADL_OD6_CAPABILITY_SCLK_CUSTOMIZATION</a>))
        {
                printf (<span class="stringliteral">"Range of clock supported by GPU core: %d...%d MHz with step of %d MHz \n"</span>,
                        od6Capabilities.<a name="a107"></a><a class="code" href="struct__ADLOD6Capabilities.html#a291291ac3ce86b8d08974840428c6ae">sEngineClockRange</a>.<a name="a108"></a><a class="code" href="struct__ADLOD6ParameterRange.html#531d451e07771f66b1e92867f98eb3d6" title="The starting value of the clock range.">iMin</a> /100, 
                        od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#a291291ac3ce86b8d08974840428c6ae">sEngineClockRange</a>.<a name="a109"></a><a class="code" href="struct__ADLOD6ParameterRange.html#1318224c4235593fe47464b5eae7467d" title="The ending value of the clock range.">iMax</a> / 100, 
                        od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#a291291ac3ce86b8d08974840428c6ae">sEngineClockRange</a>.<a name="a110"></a><a class="code" href="struct__ADLOD6ParameterRange.html#302d5424866064cda1fec3a864d846f4" title="The minimum increment between clock values.">iStep</a> / 100);

                printf (<span class="stringliteral">"Default effective range of GPU core clock: %d .. %d \n"</span>,  defaultStateInfo-&gt;<a name="a111"></a><a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a name="a112"></a><a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> / 100, defaultStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> / 100);
                printf (<span class="stringliteral">"Custom effective range of GPU core clock: %d .. %d \n"</span>,  customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> / 100, customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> / 100);
        }

        <span class="keywordflow">if</span> (<a name="a113"></a><a class="code" href="group__define__overdrive6__capabilities.html#g517fa9086de6f063797f478376ce33b2" title="Indicate that memory clock can be changed.">ADL_OD6_CAPABILITY_MCLK_CUSTOMIZATION</a> == (od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#46121417ba0b27e4c57651a174e6caf8">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__capabilities.html#g517fa9086de6f063797f478376ce33b2" title="Indicate that memory clock can be changed.">ADL_OD6_CAPABILITY_MCLK_CUSTOMIZATION</a>))
        {
                printf (<span class="stringliteral">"Range of supported memory clock: %d...%d MHz with step of %d MHz \n"</span>,
                        od6Capabilities.<a name="a114"></a><a class="code" href="struct__ADLOD6Capabilities.html#3fc1eeb260ff50fcaef63030d7960f7c">sMemoryClockRange</a>.<a class="code" href="struct__ADLOD6ParameterRange.html#531d451e07771f66b1e92867f98eb3d6" title="The starting value of the clock range.">iMin</a> /100, 
                        od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#3fc1eeb260ff50fcaef63030d7960f7c">sMemoryClockRange</a>.<a class="code" href="struct__ADLOD6ParameterRange.html#1318224c4235593fe47464b5eae7467d" title="The ending value of the clock range.">iMax</a> / 100, 
                        od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#3fc1eeb260ff50fcaef63030d7960f7c">sMemoryClockRange</a>.<a class="code" href="struct__ADLOD6ParameterRange.html#302d5424866064cda1fec3a864d846f4" title="The minimum increment between clock values.">iStep</a> / 100);

                printf (<span class="stringliteral">"Default effective range of GPU memory clock: %d .. %d \n"</span>,  defaultStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a name="a115"></a><a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> / 100, defaultStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> / 100);
                printf (<span class="stringliteral">"Custom effective range of GPU memory clock: %d .. %d \n"</span>,  customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> / 100, customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> / 100);
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_CurrentStatus_Get (adapterId, &amp;currentStatus))
        {
                printf(<span class="stringliteral">"Failed to get custom performance levels info\n"</span>);
                <span class="keywordflow">return</span> 0;
        }
                
        printf (<span class="stringliteral">"Current GPU core clock: %d MHz \n"</span> , currentStatus.<a name="a116"></a><a class="code" href="struct__ADLOD6CurrentStatus.html#83c11b7a3864b619e82cced75a69fc32" title="Current engine clock in 10 KHz.">iEngineClock</a>/ 100);
        printf (<span class="stringliteral">"Current GPU memory clock: %d MHz \n"</span> , currentStatus.<a name="a117"></a><a class="code" href="struct__ADLOD6CurrentStatus.html#137554845917f6b7905ab73db7084ae4" title="Current memory clock in 10 KHz.">iMemoryClock</a>/ 100);
        printf (<span class="stringliteral">"Current number of PCI bus lanes: %d \n"</span> , currentStatus.<a name="a118"></a><a class="code" href="struct__ADLOD6CurrentStatus.html#8692190e5d5f63269adc7585aa28e3ba" title="Current PCI-E bus # of lanes.">iCurrentBusLanes</a>);
        printf (<span class="stringliteral">"Current PCI bus speed: %d \n"</span> , currentStatus.<a name="a119"></a><a class="code" href="struct__ADLOD6CurrentStatus.html#c3cfa41f93523abb3b78b000c6d3619e" title="Current PCI-E bus speed.">iCurrentBusSpeed</a>);

        
        <span class="comment">//First we need to verify that ASIC supports monitoring of its current activities before we attempt to retrieve its current clock</span>
        <span class="keywordflow">if</span> ((od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#46121417ba0b27e4c57651a174e6caf8">iCapabilities</a> &amp; <a name="a120"></a><a class="code" href="group__define__overdrive6__capabilities.html#g787c47bb7e700060e99fc2766c0e0afd" title="Indicate that graphics activity reporting is supported.">ADL_OD6_CAPABILITY_GPU_ACTIVITY_MONITOR</a>) == <a class="code" href="group__define__overdrive6__capabilities.html#g787c47bb7e700060e99fc2766c0e0afd" title="Indicate that graphics activity reporting is supported.">ADL_OD6_CAPABILITY_GPU_ACTIVITY_MONITOR</a>)
        {
                printf (<span class="stringliteral">"Current GPU activity level: %d percent \n"</span> , currentStatus.<a name="a121"></a><a class="code" href="struct__ADLOD6CurrentStatus.html#8c4970c9a49871390488f8a9eb97cf68">iActivityPercent</a>);
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_PowerControl_Caps (adapterId, &amp;powerControlSupported))
        {
                printf(<span class="stringliteral">"Failed to get power control capabilities\n"</span>);
                <span class="keywordflow">return</span> 0;               
        }

        <span class="keywordflow">if</span> (powerControlSupported)
        {
                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_PowerControlInfo_Get (adapterId, &amp;powerControlInfo))
                {
                        printf(<span class="stringliteral">"Failed to get power control information\n"</span>);
                        <span class="keywordflow">return</span> 0;               
                }
                
                <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_PowerControl_Get (adapterId, &amp;powerControlCurrent, &amp;powerControlDefault))
                {
                        printf(<span class="stringliteral">"Failed to get power control current and default settings\n"</span>);
                        <span class="keywordflow">return</span> 0;                                       
                }

                printf (<span class="stringliteral">"Power Control range: %d...%d with step of %d \n"</span>, powerControlInfo.<a name="a122"></a><a class="code" href="struct__ADLOD6PowerControlInfo.html#4a56d5338fbede761d64cace3890937e" title="The minimum PowerControl adjustment value.">iMinValue</a>, powerControlInfo.<a name="a123"></a><a class="code" href="struct__ADLOD6PowerControlInfo.html#e5eba5e036a0ea346a72aa124153d773" title="The maximum PowerControl adjustment value.">iMaxValue</a>, powerControlInfo.<a name="a124"></a><a class="code" href="struct__ADLOD6PowerControlInfo.html#a537038832d4980cdd6385416604a04f" title="The minimum difference between PowerControl adjustment values.">iStepValue</a>);
                printf (<span class="stringliteral">"Power Control current level: %d \n"</span>, powerControlCurrent);
                printf (<span class="stringliteral">"Power Control default level: %d \n"</span>, powerControlDefault);
        }       


        <span class="keywordtype">char</span> input_str[10] = <span class="stringliteral">""</span>;

        <span class="keywordflow">if</span> ( <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gd8d554c44218496d7c28aecfbc49793f" title="GPU fan speed control is supported.">ADL_OD6_TCCAPS_FANSPEED_CONTROL</a> == (thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#gd8d554c44218496d7c28aecfbc49793f" title="GPU fan speed control is supported.">ADL_OD6_TCCAPS_FANSPEED_CONTROL</a>) &amp;&amp; 
                        (
                                ((thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a name="a125"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>) == <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>)
                                ||
                                ((thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a name="a126"></a><a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g4ffe1e0134f0812427c57e5dab15410c" title="Fan speed can be set by specifying an RPM value.">ADL_OD6_TCCAPS_FANSPEED_RPM_WRITE</a>) == <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#g4ffe1e0134f0812427c57e5dab15410c" title="Fan speed can be set by specifying an RPM value.">ADL_OD6_TCCAPS_FANSPEED_RPM_WRITE</a>)
                        )
                )
        {
                printf (<span class="stringliteral">"Do you want to change the fan speed(y/n)?:\n"</span>);                
                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        <span class="keywordflow">if</span> ((thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>) == <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>)
                        {
                                printf (<span class="stringliteral">"Enter requested fan speed between %d and %d Percent :\n"</span>, thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#9dd33e19da7dfb99d1c1a57fbfc3a25c" title="Minimum fan speed expressed as a percentage.">iFanMinPercent</a>, thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#511a5994ffc969dd3c643212de3c0fd9" title="Maximum fan speed expressed as a percentage.">iFanMaxPercent</a>); 
                        }
                        <span class="keywordflow">else</span>
                                printf (<span class="stringliteral">"Enter requested fan speed between %d and %d RPM:\n"</span>, thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#732668aaa1b9a46af2a8d7a3c979c509" title="Minimum fan speed expressed in revolutions-per-minute.">iFanMinRPM</a>, thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#b4ad0b418eba5f18db924919a8be978e" title="Maximum fan speed expressed in revolutions-per-minute.">iFanMaxRPM</a>);
                                

                        gets_s (input_str);
                        fanSpeedValue.<a name="a127"></a><a class="code" href="struct__ADLOD6FanSpeedValue.html#f02a6038226b4fce8ee206f9f8a01e5a" title="Fan speed value (units as indicated above).">iFanSpeed</a> = atoi (input_str);
                        fanSpeedValue.<a name="a128"></a><a class="code" href="struct__ADLOD6FanSpeedValue.html#d4b2a79d024e052d603a7fb0d649a01b" title="Indicates the units of the fan speed. Possible values: ADL_OD6_FANSPEED_TYPE_PERCENT...">iSpeedType</a> = ((thermalControllerCaps.<a class="code" href="struct__ADLOD6ThermalControllerCaps.html#4e4a7d7aa4dadca9863e830a807f3d16">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>) == <a class="code" href="group__define__overdrive6__thermalcontroller__caps.html#geb8d0062f3a9a292339db4caa17eef66" title="Fan speed can be set by specifying a percentage value.">ADL_OD6_TCCAPS_FANSPEED_PERCENT_WRITE</a>)?
                                                                                <a name="a129"></a><a class="code" href="group__define__overdrive6__fanspeed__type.html#gd199d6ce946b78b3d9f60a1e1391f08f" title="Fan speed reported in percentage.">ADL_OD6_FANSPEED_TYPE_PERCENT</a> :
                                                                                <a class="code" href="group__define__overdrive6__fanspeed__type.html#gb69247e04cfb9901d95a35c2e357971f" title="Fan speed reported in RPM.">ADL_OD6_FANSPEED_TYPE_RPM</a>;

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_FanSpeed_Set (adapterId, &amp;fanSpeedValue))
                        {
                                printf (<span class="stringliteral">"Failed to set new fan speed \n"</span>);                              
                        }               
                        <span class="keywordflow">return</span> 0;
                }
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__overdrive6__capabilities.html#g32ac90fb0bfd446c461b65b5edf038f7" title="Indicate that core (engine) clock can be changed.">ADL_OD6_CAPABILITY_SCLK_CUSTOMIZATION</a> == (od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#46121417ba0b27e4c57651a174e6caf8">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__capabilities.html#g32ac90fb0bfd446c461b65b5edf038f7" title="Indicate that core (engine) clock can be changed.">ADL_OD6_CAPABILITY_SCLK_CUSTOMIZATION</a>))
        {
                printf (<span class="stringliteral">"Do you want to change the effective core clock (y/n)?:\n"</span>);
                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        <span class="comment">//ADL_Overdrive6_State_Set allows changing the effective range of memory and core clocks by setting performance level 0 clocks to desired </span>
                        <span class="comment">//minimum value and setting performance level 1 clocks to desired maximum. In reality user rarely needs to change minimum value.</span>
                        <span class="comment">//Therefore this example demonstrates only changing the upper range boundary. The upper range value has to be greater then current </span>
                        <span class="comment">//minimum value (stored in performance level 0), but less than highest clock supported by the ASIC</span>
                        printf (<span class="stringliteral">"Enter value between %d and %d MHz \n"</span>,   customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> / 100, od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#a291291ac3ce86b8d08974840428c6ae">sEngineClockRange</a>.<a class="code" href="struct__ADLOD6ParameterRange.html#1318224c4235593fe47464b5eae7467d" title="The ending value of the clock range.">iMax</a> /100);
                        gets_s (input_str);
                        customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#1040d8c6e419c54861e748ba08e14ae9" title="Engine (core) clock.">iEngineClock</a> = atoi (input_str) * 100;

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_State_Set (adapterId, <a name="a130"></a><a class="code" href="group__define__overdrive6__setstate.html#g5020fecf7d70aa36cd6fa589ee4918a5" title="Set customized clocks for the performance state.">ADL_OD6_SETSTATE_PERFORMANCE</a>, customStateInfo)) <span class="comment">// This is the only value that is currently accepted</span>
                        {
                                printf (<span class="stringliteral">"Failed to set new effective core clock\n"</span>);
                        }
                        <span class="keywordflow">return</span> 0;
                }
        }

        <span class="keywordflow">if</span> (<a class="code" href="group__define__overdrive6__capabilities.html#g517fa9086de6f063797f478376ce33b2" title="Indicate that memory clock can be changed.">ADL_OD6_CAPABILITY_MCLK_CUSTOMIZATION</a> == (od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#46121417ba0b27e4c57651a174e6caf8">iCapabilities</a> &amp; <a class="code" href="group__define__overdrive6__capabilities.html#g517fa9086de6f063797f478376ce33b2" title="Indicate that memory clock can be changed.">ADL_OD6_CAPABILITY_MCLK_CUSTOMIZATION</a>))
        {
                printf (<span class="stringliteral">"Do you want to change the effective memory clock (y/n)?:\n"</span>);
                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        <span class="comment">//ADL_Overdrive6_State_Set allows changing the effective range of memory and core clocks by setting performance level 0 clocks to desired </span>
                        <span class="comment">//minimum value and setting performance level 1 clocks to desired maximum. In reality user rarely needs to change minimum value.</span>
                        <span class="comment">//Therefore this example demonstrates only changing the upper range boundary. The upper range value has to be greater then current </span>
                        <span class="comment">//minimum value (stored in performance level 0), but less than highest clock supported by the ASIC</span>
                        printf (<span class="stringliteral">"Enter value between %d and %d MHz \n"</span>,   customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[0].<a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> / 100, od6Capabilities.<a class="code" href="struct__ADLOD6Capabilities.html#3fc1eeb260ff50fcaef63030d7960f7c">sMemoryClockRange</a>.<a class="code" href="struct__ADLOD6ParameterRange.html#1318224c4235593fe47464b5eae7467d" title="The ending value of the clock range.">iMax</a> /100);
                        gets_s (input_str);
                        customStateInfo-&gt;<a class="code" href="struct__ADLOD6StateInfo.html#65c97f410a82bf13f92ddaa1132e97ee">aLevels</a>[1].<a class="code" href="struct__ADLOD6PerformanceLevel.html#060199d700688cefe17c51625a3c7694" title="Memory clock.">iMemoryClock</a> = atoi (input_str) * 100;

                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_State_Set (adapterId, <a class="code" href="group__define__overdrive6__setstate.html#g5020fecf7d70aa36cd6fa589ee4918a5" title="Set customized clocks for the performance state.">ADL_OD6_SETSTATE_PERFORMANCE</a>, customStateInfo)) <span class="comment">// This is the only value that is currently accepted</span>
                        {
                                printf (<span class="stringliteral">"Failed to set new effective core clock\n"</span>);
                        }
                        <span class="keywordflow">return</span> 0;
                }
        }

        <span class="keywordflow">if</span> (powerControlSupported)
        {
                printf (<span class="stringliteral">"Do you want to change the value of Power Control threshold (y/n)?:\n"</span>);
                gets_s (input_str);
                <span class="keywordflow">if</span> (_stricmp(input_str, <span class="stringliteral">"y"</span>) == 0)
                {
                        printf (<span class="stringliteral">"Enter new value of Power Control threshold between %d and %d: \n"</span>, powerControlInfo.<a class="code" href="struct__ADLOD6PowerControlInfo.html#4a56d5338fbede761d64cace3890937e" title="The minimum PowerControl adjustment value.">iMinValue</a>, powerControlInfo.<a class="code" href="struct__ADLOD6PowerControlInfo.html#e5eba5e036a0ea346a72aa124153d773" title="The maximum PowerControl adjustment value.">iMaxValue</a>);
                        gets_s (input_str);
                        <span class="keywordtype">int</span> newPowerControlTreshold = atoi (input_str);
                        <span class="keywordflow">if</span> (<a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive6_PowerControl_Set (adapterId, newPowerControlTreshold))
                        {
                                printf(<span class="stringliteral">"Failed to set new Power Control treshold. \n"</span>);
                                <span class="keywordflow">return</span> 0;
                        }
                }
        }
        
        <span class="keywordflow">return</span> 0;
}

<span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, _TCHAR* argv[])
{

<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span>    <span class="keywordtype">void</span> *hDLL;         <span class="comment">// Handle to .so library</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    HINSTANCE hDLL;             <span class="comment">// Handle to DLL</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        ADL_MAIN_CONTROL_CREATE                                 <a name="a131"></a><a class="code" href="group__MAINAPI.html#gbd3262ed253d0f47e41a6983ed3645c9" title="Function to initialize the ADL interface. This function should be called first.">ADL_Main_Control_Create</a>;
    ADL_MAIN_CONTROL_DESTROY                            <a name="a132"></a><a class="code" href="group__MAINAPI.html#g6109d29a69f5e52c28f7e5ede0afb38c" title="Function to destroy ADL global pointers. This function should be called last.">ADL_Main_Control_Destroy</a>;
    ADL_ADAPTER_NUMBEROFADAPTERS_GET            <a name="a133"></a><a class="code" href="group__ADAPTER.html#g16c0a744d9bfba9db1030326715f78a1" title="Function to retrieve the number of OS-known adapters.">ADL_Adapter_NumberOfAdapters_Get</a>;
    ADL_ADAPTER_ADAPTERINFO_GET                         <a name="a134"></a><a class="code" href="group__ADAPTER.html#gd305c0548224ab4623e1b89965b14f6b" title="Retrieves all OS-known adapter information.">ADL_Adapter_AdapterInfo_Get</a>;
        ADL_ADAPTER_ACTIVE_GET                                  <a name="a135"></a><a class="code" href="group__ADAPTER.html#g0ea636181aaad0c76d78186c96020daf" title="Function to determine if the adapter is active or not.">ADL_Adapter_Active_Get</a>;
        ADL_OVERDRIVE_CAPS                                              <a name="a136"></a><a class="code" href="group__OVERDRIVE5.html#g5b04daec92fb57546231f1d893ed9263" title="Function to retrieve current power management capabilities.">ADL_Overdrive_Caps</a>;
        <a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">LPAdapterInfo</a>                                               lpAdapterInfo = NULL;
        <span class="keywordtype">int</span>  i;
    <span class="keywordtype">int</span>  ADL_Err = <a class="code" href="group__define__adl__results.html#g917345ca58ec6b4d7c73865fdb611fd7" title="Generic Error. Most likely one or more of the Escape calls to the driver failed!">ADL_ERR</a>;
    <span class="keywordtype">int</span>  iNumberAdapters = 0;
        <span class="keywordtype">int</span>  iOverdriveSupported = 0;
        <span class="keywordtype">int</span>  iOverdriveEnabled = 0;
        
        <span class="keywordtype">int</span>      iOverdriveVersion = 0;
        
<span class="preprocessor">#if defined (LINUX)</span>
<span class="preprocessor"></span>    hDLL = dlopen( <span class="stringliteral">"libatiadlxx.so"</span>, RTLD_LAZY|RTLD_GLOBAL);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    hDLL = LoadLibrary(<span class="stringliteral">"atiadlxx.dll"</span>);
    <span class="keywordflow">if</span> (hDLL == NULL)
        <span class="comment">// A 32 bit calling application on 64 bit OS will fail to LoadLIbrary.</span>
        <span class="comment">// Try to load the 32 bit library (atiadlxy.dll) instead</span>
        hDLL = LoadLibrary(<span class="stringliteral">"atiadlxy.dll"</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">if</span> (NULL == hDLL)
        {
            printf(<span class="stringliteral">"ADL library not found!\n"</span>);
            <span class="keywordflow">return</span> 0;
        }

                ADL_Main_Control_Create = (ADL_MAIN_CONTROL_CREATE) GetProcAddress(hDLL,<span class="stringliteral">"ADL_Main_Control_Create"</span>);
        ADL_Main_Control_Destroy = (ADL_MAIN_CONTROL_DESTROY) GetProcAddress(hDLL,<span class="stringliteral">"ADL_Main_Control_Destroy"</span>);
        ADL_Adapter_NumberOfAdapters_Get = (ADL_ADAPTER_NUMBEROFADAPTERS_GET) GetProcAddress(hDLL,<span class="stringliteral">"ADL_Adapter_NumberOfAdapters_Get"</span>);
        ADL_Adapter_AdapterInfo_Get = (ADL_ADAPTER_ADAPTERINFO_GET) GetProcAddress(hDLL,<span class="stringliteral">"ADL_Adapter_AdapterInfo_Get"</span>);
                ADL_Adapter_Active_Get = (ADL_ADAPTER_ACTIVE_GET)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Adapter_Active_Get"</span>);
                ADL_Overdrive_Caps = (ADL_OVERDRIVE_CAPS)GetProcAddress(hDLL, <span class="stringliteral">"ADL_Overdrive_Caps"</span>);

                <span class="keywordflow">if</span> ( NULL == ADL_Main_Control_Create ||
            NULL == ADL_Main_Control_Destroy ||
            NULL == ADL_Adapter_NumberOfAdapters_Get ||
            NULL == ADL_Adapter_AdapterInfo_Get ||
                        NULL == ADL_Adapter_Active_Get ||
                        NULL == ADL_Overdrive_Caps
                        )
                {
               printf(<span class="stringliteral">"ADL's API is missing!\n"</span>);
                   <span class="keywordflow">return</span> 0; 
                }

                <span class="comment">// Initialize ADL. The second parameter is 1, which means:</span>
        <span class="comment">// retrieve adapter information only for adapters that are physically present and enabled in the system</span>
        <span class="keywordflow">if</span> ( <a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Main_Control_Create (ADL_Main_Memory_Alloc, 1) )
                {
               printf(<span class="stringliteral">"ADL Initialization Error!\n"</span>);
                   <span class="keywordflow">return</span> 0;
                }

        <span class="comment">// Obtain the number of adapters for the system</span>
        <span class="keywordflow">if</span> ( <a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Adapter_NumberOfAdapters_Get ( &amp;iNumberAdapters ) )
                {
               printf(<span class="stringliteral">"Cannot get the number of adapters!\n"</span>);
                   <span class="keywordflow">return</span> 0;
                }

        <span class="keywordflow">if</span> ( 0 &lt; iNumberAdapters )
        {
            lpAdapterInfo = (<a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">LPAdapterInfo</a>)malloc ( <span class="keyword">sizeof</span> (<a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">AdapterInfo</a>) * iNumberAdapters );
            memset ( lpAdapterInfo,<span class="charliteral">'\0'</span>, <span class="keyword">sizeof</span> (<a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">AdapterInfo</a>) * iNumberAdapters );

            <span class="comment">// Get the AdapterInfo structure for all adapters in the system</span>
            <a class="code" href="group__ADAPTER.html#gd305c0548224ab4623e1b89965b14f6b" title="Retrieves all OS-known adapter information.">ADL_Adapter_AdapterInfo_Get</a> (lpAdapterInfo, <span class="keyword">sizeof</span> (<a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">AdapterInfo</a>) * iNumberAdapters);
        }

      <span class="comment">// Looking for first present and active adapter in the system</span>
                <span class="keywordtype">int</span> adapterId = -1;
        <span class="keywordflow">for</span> ( i = 0; i &lt; iNumberAdapters; i++ )
        {
                        <span class="keywordtype">int</span> adapterActive = 0;                  
                        <a class="code" href="structAdapterInfo.html" title="Structure containing information about the graphics adapter.">AdapterInfo</a> adapterInfo = lpAdapterInfo[ i ];            
                        <a class="code" href="group__ADAPTER.html#g0ea636181aaad0c76d78186c96020daf" title="Function to determine if the adapter is active or not.">ADL_Adapter_Active_Get</a>(adapterInfo.<a name="a137"></a><a class="code" href="structAdapterInfo.html#1cebd517a5310383f786a12b71cdd58d" title="The ADL index handle. One GPU may be associated with one or two index handles.">iAdapterIndex</a> , &amp;adapterActive);
                        <span class="keywordflow">if</span> ( adapterActive &amp;&amp; adapterInfo.<a name="a138"></a><a class="code" href="structAdapterInfo.html#8a7d02d2c0af60e9d29ef44637792ebd" title="The vendor ID associated with this adapter.">iVendorID</a> == AMDVENDORID )                    
                        {
                                adapterId = adapterInfo.<a class="code" href="structAdapterInfo.html#1cebd517a5310383f786a12b71cdd58d" title="The ADL index handle. One GPU may be associated with one or two index handles.">iAdapterIndex</a>;
                                <span class="keywordflow">break</span>;
                        }
                }

                <span class="keywordflow">if</span> (-1 == adapterId)
                {
                   printf(<span class="stringliteral">"Cannot find active AMD adapter\n"</span>);
                   <span class="keywordflow">return</span> 0;
                }

                <span class="comment">//Overdrive 5 APIs should be used if returned version indicates 5. Overdrive 6 APIs are used if 6 is returned.</span>
                <span class="comment">//Overdrive 5 is supported on legacy ASICs. Newer ASICs (CIK+) should report Overdrive 6</span>
                <span class="keywordflow">if</span> ( <a class="code" href="group__define__adl__results.html#g29dfbfcc4a3b9092febd107586668a75" title="ADL function completed successfully.">ADL_OK</a> != ADL_Overdrive_Caps (adapterId, &amp;iOverdriveSupported, &amp;iOverdriveEnabled, &amp;iOverdriveVersion) )
                {
                   printf(<span class="stringliteral">"Can’t get Overdrive capabilities \n"</span>);
                   <span class="keywordflow">return</span> 0;
                }

                <span class="keywordflow">if</span> (!iOverdriveSupported)
                {
                   printf(<span class="stringliteral">"Overdrive is not supported \n"</span>);
                   <span class="keywordflow">return</span> 0;
                }
                
                <span class="keywordflow">if</span> (iOverdriveVersion == 5)                     
                        Overdrive5Sample (adapterId, hDLL);
                <span class="keywordflow">else</span>  <span class="keywordflow">if</span>(iOverdriveVersion == 6)
                        Overdrive6Sample (adapterId, hDLL);
                <span class="keywordflow">else</span>
                        printf(<span class="stringliteral">"Unsupported Overdrive version \n"</span>);

}

</pre></div> </div>
<hr size="1"><div  style="text-align: right;"><small>Copyright &copy 2009-2016 Advanced Micro Devices, Inc. All rights reserved.&nbsp;
<a href="http://developer.amd.com"><img src="53863A_AMD_E_Blk_RGB.PNG" title="developer.amd.com" align="middle" border="0" height="10px"></a></small></div>
</body>
</html>
